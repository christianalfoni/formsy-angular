!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define(["angular"],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.Formsy=e()}}(function(){return function e(t,n,u){function i(o,a){if(!n[o]){if(!t[o]){var s="function"==typeof require&&require;if(!a&&s)return s(o,!0);if(r)return r(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return i(n?n:e)},l,l.exports,e,t,n,u)}return n[o].exports}for(var r="function"==typeof require&&require,o=0;o<u.length;o++)i(u[o]);return i}({"/Users/christianalfoni/Documents/dev/formsy-angular/src/main.js":[function(e){(function(t){var n=t.angular||e("angular"),u={isValue:function(e){return!!e},isEmail:function(e){return e.match(/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i)},isTrue:function(e){return e===!0},isNumeric:function(e){return e.match(/^-?[0-9]+$/)},isAlpha:function(e){return e.match(/^[a-zA-Z]+$/)},isLength:function(e,t,n){return void 0!==n?e.length>=t&&e.length<=n:e.length>=t},equals:function(e,t){return e==t}},i=function(e,t,n){var n=n||[];if("object"==typeof e)for(var u in e)i(e[u],t?t+"["+u+"]":u,n);else n.push(t+"="+encodeURIComponent(e));return n.join("&")},r={submitLabel:"Submit",cancelLabel:"Cancel",method:"post"};n.module("formsy",[]).provider("formsy",function(){this.$get=function(){},this.defaults=function(e){Object.keys(e).forEach(function(t){r[t]=e[t]})},this.addValidationRule=function(e,t){u[e]=t}}).directive("formsyForm",["$compile",function(e){return{restrict:"E",transclude:!0,replace:!0,scope:{cancel:"&",success:"&",error:"&",submit:"&",submitted:"&"},controller:["$scope","$http",function(e,t){var n={},r=function(){var e={};return Object.keys(n).forEach(function(t){e[t]=n[t].$value}),e},o=this;e.isSubmitting=!1,e.$submit=function(){if(!e.$url)throw new Error("Formsy needs an url to post a form");var u=Object.keys(n).map(function(e){return n[e].scope.$value});u="application/json"===e.$contentType?JSON.stringify(r()):i(r()),e.$submitting=!0,e.submit(),t({url:e.$url,method:e.$method,headers:{Accept:"application/json","Content-Type":e.$contentType},data:u}).success(function(t){e.$submitting=!1,e.submitted(t)}).error(function(t){e.$submitting=!1,e.error(t),o.updateInputsWithErrors(t)}),e.submitted()},this.updateInputsWithErrors=function(e){Object.keys(e).forEach(function(t){n[t].scope.$message=e[t],n[t].scope.$valid=!1,n[t].scope.$showError=!0}),this.validateForm()},this.attachToForm=function(e,t){if(!t.name)throw new Error("Formsy requires your inputs to have a name attribute");n[t.name]=e,e.$watch("$value",this.validate.bind(this,e,t)),this.validate(e,t)},this.detchFromFrom=function(e){Object.keys(n).forEach(function(t){n[t]===e&&delete n[t]})},this.validate=function(e,t){if(e.$value=e.$value||"",!t.validations)return e.$valid=!0;var n=!0;(e.$required||e.$value)&&t.validations.split(",").forEach(function(t){var i=t.split(":"),r=i.shift();if(i=i.map(function(e){return JSON.parse(e)}),i=[e.$value].concat(i),!u[r])throw new Error("Formsy does not have the validation rule: "+r);u[r].apply(null,i)||(n=!1)}),e.$valid=n,e.$showRequired=!e.$value&&e.$required,e.$showError=!e.$showRequired&&!e.$valid,e.$message=e.$showError?t.validationError:"",this.validateForm()},this.validateForm=function(){var t=!0;Object.keys(n).forEach(function(e){n[e].$valid||(t=!1)}),e.$valid=t}}],template:"<form ng-transclude></form>",link:function(t,u,i){t.hideSubmit=r.hideSubmit||void 0!==i.hideSubmit,t.showCancel=void 0!==i.cancel,t.submitLabel=i.submitLabel||r.submitLabel,t.cancelLabel=i.cancelLabel||r.cancelLabel,t.$method=i.method||r.method,t.$url=i.url,t.$contentType="urlencoded"===i.contentType?"application/"+i.contentType.replace("urlencoded","x-www-form-urlencoded"):"application/json";var o=n.element('<div class="{{buttonWrapperClass}}"><button ng-show="showCancel" class="{{buttonCancelClass}}" ng-disabled="$submitting" ng-click="cancel()">{{cancelLabel}}</button><button ng-hide="hideSubmit" class="{{buttonSubmitClass}}" ng-disabled="!$valid || $submitting" ng-click="$submit()" type="submit">{{submitLabel}}</button></div>');u.append(o),e(o)(t)}}}]).directive("formsyInput",function(){return{require:"^formsyForm",restrict:"A",link:function(e,t,n,u){e.$value=n.$value||"",e.$required=void 0!==n.required,e.$message=n.validationError,e.$on("$destroy",function(){u.detachFromForm(e)}),u.attachToForm(e,n),e.validate=function(){u.validate(e,n)}}}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{angular:"angular"}]},{},["/Users/christianalfoni/Documents/dev/formsy-angular/src/main.js"])("/Users/christianalfoni/Documents/dev/formsy-angular/src/main.js")});